<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.js"></script>
	<script type="text/javascript">
  $(document).ready(function(){
    $('#add_form').submit(function(){
			var form = $(this),
			formData = form.serialize(),
			formUrl  = form.attr('acion'),
			formMethod = form.attr('method'),
			responseText = $('#submit_result') 
			responseText.hide()
			            .addClass('waiting')
									.text('Please wait...')
									.fadeIn(200);
      $.ajax({
				url: formUrl,
				type: formMethod,
				data: formData,
				success: function(data){
					var responsData = $.parseJSON(data),
					    responseData_class = '';
					switch(responsData.status){
						case 'error':
						  responseData_class = 'response_error';
						break;
						case 'success':
						  responseData_class = 'response_success';
						break;				
					}
					
					responseText.fadeOut(200, function(){
						$(this).removeClass('waiting')
						       .addClass(responseData_class)
									 .text(responsData.message)
									 .fadeIn(200,function(){
									     setTimeout(function(){
									     responseText.fadeOut(200,function(){
									         $(this).removeClass(responseData_class);
											 });
										   }, 3000);
									 });
					});					
					alert(responsData.message);
				}
			});
			return false;
    })
  })
</script>
</head>

<title>加新字</title>
<body>
<div id="add_main">
	<form action=/add id="add_form" method="post" >
		<table>
			<tbody>
				<tr>
					<th style="font: bold 64px Arial">新字:</th>
					<td><input id="word", name="word" style="font: bold 64px Arial" type="text"></td>
				</tr>
				<tr>
					<th>解釋:</th>
					<td><textarea id="define", name="define" rows="10" cols="50" type="text"></textarea></td>
				</tr>				
				<tr>
					<th>造句:</th>
					<td><textarea id="example", name="example" rows="10" cols="50" size="60" type="text"></textarea></td>
				</tr>			
				<tr>
					<th>標籤:</th>
					<td><input id="tag", name="tag" size="30" type="text"></td>
				</tr>	
			</tbody>
		</table>
		
		<div id="submit">
			<input name="submit" value="送出新字" class="add_word" type="submit">
		</div>
		
		<!-- Submit result shows up here. -->
		<div id="submit_result"></div>
	</form>
</div>
</body>
</html>